using System.Diagnostics.CodeAnalysis;

namespace NTDLS.Katzebase.Parsers.Tokens
{
    public partial class Tokenizer<TData> where TData : IStringable
    {
        public bool TryEatIfNextEnum<T>(char[] delimiters, out string outFoundToken, [NotNullWhen(true)] out T? value) where T : Enum
        {
            outFoundToken = string.Empty;
            try
            {
                value = EatIfNextEnum<T>(delimiters, out outFoundToken);
                return true;
            }
            catch
            {
                value = default;
                return false;
            }
        }

        public bool TryEatIfNextEnum<T>([NotNullWhen(true)] out T? value) where T : Enum
            => TryEatIfNextEnum(_standardTokenDelimiters, out _, out value);
    }
}
